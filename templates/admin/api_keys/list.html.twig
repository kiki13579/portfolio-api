{# templates/admin/api_keys/list.html.twig #}
{% extends "base.html.twig" %}
{% block title %}Gestion des Clés d'API{% endblock %}
{% block body %}
    <h1>Gestion des Clés d'API</h1>
    <a href="/admin/api-keys/new" class="btn btn-primary mb-3">Créer une clé d'API</a>
    <table class="table table-striped">
        <thead><tr><th>ID</th><th>Nom</th><th>Aperçu de la clé</th><th>Rôle</th><th>Créée le</th></tr></thead>
        <tbody>
            {% for key in api_keys %}
                <tr>
                    <td>{{ key.id }}</td>
                    <td>{{ key.name }}</td>
                    <td><code>{{ key.api_key_preview }}...</code></td>
                    <td><span class="badge bg-secondary">{{ key.role }}</span></td>
                    <td>{{ key.created_at|date('d/m/Y H:i') }}</td>
                </tr>
            {% else %}
                <tr><td colspan="5" class="text-center">Aucune clé d'API trouvée.</td></tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}